<template>
  <div>
    <NuxtLayout>
      <NuxtPage />
    </NuxtLayout>

    <div class="flex justify-center items-center min-h-screen bg-gray-100">
      <div class="w-5/6 bg-white p-6 rounded-lg shadow-lg mr-28">

        <div class="grid grid-cols-3 gap-2">
          <div class="flex items-center w-64">
            <p class="text-gray-500">ุฏุงุดุจูุฑุฏ</p>
            <img src="/Icon.png" alt="" class="mx-4 w-3 h-3">
            <p class="text-black font-bold">ูพุฐุฑุด ุฌุฏุฏ</p>
          </div>
          <div></div>
          <div class="text-center text-sm text-gray-500">ุชุงุฑุฎ ูพุฐุฑุฑุด: ุฌูุนู 21 ุฏ 1403</div>
          <div class="text-center text-sm text-gray-500">ุณุงุนุช ูพุฐุฑุฑุด: 14:25</div>
          <div class="text-center text-sm text-gray-500">ุตุงุฏุฑ ฺฉููุฏู ูพุฐุฑุด: ุฎุงูู ุดุนุจุงู</div>
          <div class="text-center text-sm text-gray-500">ุดูุงุฑู ูพุฐุฑุด: 38117</div>
        </div>
        <div class="grid grid-cols-5 gap-4 items-center my-10">
  <!-- ุณุชููโูุง ูุฑูุฏ -->
  <div class="col-span-1">
    <FloatLabel variant="on">
      <AutoComplete v-model="formData.Fk_technician" :suggestions="items" @complete="search" size="small" dropdown class="w-full" />
      <label for="on_label">ุชฺฉูุณู</label>
    </FloatLabel>
  </div>
  <div class="col-span-1">
    <FloatLabel variant="on">
      <AutoComplete v-model="formData.Fk_Customer" :suggestions="items" @complete="search" size="small" dropdown class="w-full" />
      <label for="on_label">ูุดุชุฑ</label>
    </FloatLabel>
  </div>
  <div class="col-span-1">
    <FloatLabel variant="on">
      <AutoComplete v-model="formData.Fk_devictype" :suggestions="items" @complete="search" size="small" dropdown class="w-full" />
      <label for="on_label">ููุน ุฏุณุชฺฏุงู</label>
    </FloatLabel>
  </div>
  <div class="col-span-1">
    <FloatLabel variant="on">
      <AutoComplete v-model="formData.Fk_device_brand" :suggestions="items" @complete="search" size="small" dropdown class="w-full" />
      <label for="on_label">ุจุฑูุฏ ุฏุณุชฺฏุงู</label>
    </FloatLabel>
  </div>
  
  <!-- ุฏฺฉูู "+" ฺฉูฺฺฉุชุฑ -->
  <div class="col-span-1 flex justify-center">
    <div class="w-8 h-8 flex justify-center items-center rounded-lg bg-sky-700 text-white text-lg cursor-pointer">
      +
    </div>
  </div>
</div>
        <div class="grid grid-cols-2 gap-x-4" >
          <div>
            <FloatLabel variant="on">
              <AutoComplete class="w-full" v-model="formData.Fk_device_brand" :suggestions="items" @complete="search" size="small" dropdown />
              <label for="on_label">ุงุณุชุงู</label>
            </FloatLabel>
          </div>
          <div>
            <FloatLabel variant="on" >
              <AutoComplete class="w-full" v-model="formData.Fk_device_brand" :suggestions="items" @complete="search" size="small" dropdown />
              <label for="on_label">ุดูุฑุณุชุงู</label>
            </FloatLabel>
          </div>
        </div>
        <FloatLabel variant="on" class>
      <AutoComplete v-model="formData.Fk_device_brand" :suggestions="items" @complete="search" size="small" dropdown class="w-full" />
      <label for="on_label">ุจุฑูุฏ ุฏุณุชฺฏุงู</label>
    </FloatLabel>

        <!-- ุฏฺฉูู ุงุฑุณุงู -->
        <div class="mt-6">
          <button 
            @click="submitForm"
            class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">
            ุงุฑุณุงู ุงุทูุงุนุงุช
          </button>
        </div>

      </div>
    </div>

  </div>
</template>
<script setup>


// ูุชุบุฑูุง ูุฏู ูุฑูุฏโูุง
const formData = ref({
  Fk_technician: "",
  Fk_Customer: "",
  Fk_devictype: "",
  Fk_device_brand: ""
});

const submitForm = async () => {
  try {
    console.log("๐ ุงุฑุณุงู ุงุทูุงุนุงุช:", formData.value);
    
    const response = await axios.post("", formData.value);

    console.log("โ ูพุงุณุฎ API:", response.data);
    alert("ุงุทูุงุนุงุช ุจุง ููููุช ุงุฑุณุงู ุดุฏ!");
  } catch (error) {
    console.error("โ ุฎุทุง ุฏุฑ ุงุฑุณุงู ุงุทูุงุนุงุช:", error);
    alert("ุงุฑุณุงู ุงุทูุงุนุงุช ูุงูููู ุจูุฏ!");
  }
};
</script>